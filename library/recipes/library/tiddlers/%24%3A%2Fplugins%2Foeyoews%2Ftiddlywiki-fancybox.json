{"title":"$:/plugins/oeyoews/tiddlywiki-fancybox","description":"Tiddlywiki Gallery","author":"oeyoews","version":"0.0.6","core-version":">=5.2.3","type":"application/json","plugin-type":"plugin","name":"Tiddlywiki Fancybox","list":"readme","dependents":"","text":"{\"tiddlers\":{\"$:/plugins/oeyoews/tiddlywiki-fancybox/icon\":{\"title\":\"$:/plugins/oeyoews/tiddlywiki-fancybox/icon\",\"text\":\"<svg stroke=\\\"currentColor\\\" fill=\\\"currentColor\\\" stroke-width=\\\"0\\\" version=\\\"1\\\" viewBox=\\\"0 0 48 48\\\" enable-background=\\\"new 0 0 48 48\\\" height=\\\"1em\\\" width=\\\"1em\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\"><path fill=\\\"#8BC34A\\\" d=\\\"M39,15c0-2.2-1.8-4-4-4h-6c-0.7,0-1.1-0.8-0.7-1.4c0.6-1,0.9-2.2,0.6-3.5c-0.4-2-1.9-3.6-3.8-4 C21.8,1.4,19,3.9,19,7c0,1,0.3,1.8,0.7,2.6c0.4,0.6,0,1.4-0.8,1.4h-6c-2.2,0-4,1.8-4,4v7c0,0.7,0.8,1.1,1.4,0.7 c1-0.6,2.2-0.9,3.5-0.6c2,0.4,3.6,1.9,4,3.8c0.7,3.2-1.8,6.1-4.9,6.1c-1,0-1.8-0.3-2.6-0.7C9.8,30.9,9,31.3,9,32v6c0,2.2,1.8,4,4,4 h22c2.2,0,4-1.8,4-4V15z\\\"></path></svg>\\n\"},\"$:/plugins/oeyoews/tiddlywiki-fancybox/readme\":{\"title\":\"$:/plugins/oeyoews/tiddlywiki-fancybox/readme\",\"text\":\"!! Readme\\n\\n<!-- * 只需要安装此插件即可， 无需额外配置， 自动识别图片tiddlywiki当前界面(不是所有)的所有图片, -->\\n<!-- 点击即可放大图片(如果不起作用, 请刷新tiddlywiki使用)， -->\\n`updated time: 2023-01-03`, 后期更新说明请点击\\n[[readme|https://oeyoewl.top/fancybox-gallery-tiddlywiki]]\\n\\n<!-- !! Note -->\\n\\n<!-- * 由于是动态给img加上一个父标签, -->\\n<!-- 只会渲染启动时识别到的img标签，如果导入新的图片或者打开新的含有图片的tiddler, -->\\n<!-- 则需要重新刷新当前界面，让插件重新渲染DOM -->\\n\\n!! Demo\\n\\n* [[Demo|https://neotw.netlify.app/main.html#%24%3A%2Fplugins%2Foeyoews%2Ftiddlywiki-fancybox]]\\n<<Fancybox \\\"https://gitlab.com/oeyoews/neotw/-/raw/main/img/fancybox4.png\\\" >>\\n\\n!! Usage\\n<!-- * how to add refresh tip on tiddlywiki js?? -->\\n<!-- <img src=\\\"https://gitlab.com/oeyoews/modern-tiddlydev/-/raw/main/static/fancybox-example.png\\\"/> -->\\n\\n* [[Single Image|$:/plugins/oeyoews/tiddlywiki-fancybox/single]]\\n\\n```wikitext\\n<<Fancybox \\\"https://gitlab.com/oeyoews/neotw/-/raw/main/img/fancybox4.png\\\" >>\\n```\\n\\n{{$:/plugins/oeyoews/tiddlywiki-fancybox/single}}\\n\\n* [[Gallary|$:/plugins/oeyoews/tiddlywiki-fancybox/example2]]\\n\\n```wikitext\\n<<Fancybox\\n\\\"\\\"\\\"\\nhttps://lipsum.app/id/66/1200x675\\nhttps://lipsum.app/id/55/1200x675\\n\\\"\\\"\\\"\\\"\\n>>\\n```\\n\\n<center>\\n<b>Fancybox Gallery Usage </b>\\n</center>\\n{{$:/plugins/oeyoews/tiddlywiki-fancybox/example2}}\\n\"},\"$:/plugins/oeyoews/tiddlywiki-fancybox/example\":{\"title\":\"$:/plugins/oeyoews/tiddlywiki-fancybox/example\",\"text\":\"<img src=\\\"https://lipsum.app/id/77/1200x675\\\" />\\n<img src=\\\"https://lipsum.app/id/66/1200x675\\\" />\\n<img src=\\\"https://lipsum.app/id/55/1200x675\\\" />\\n\"},\"$:/plugins/oeyoews/tiddlywiki-fancybox/example2\":{\"title\":\"$:/plugins/oeyoews/tiddlywiki-fancybox/example2\",\"text\":\"<<Fancybox\\n\\\"\\\"\\\"\\nhttps://lipsum.app/id/77/1200x675\\nhttps://lipsum.app/id/66/1200x675\\nhttps://lipsum.app/id/55/1200x675\\n\\\"\\\"\\\"\\n>>\\n\\n!! Local Image\\n\\n<<Fancybox \\\"plugins/oeyoews/tiddlywiki-fancybox/puzzle\\\">>\\n\"},\"$:/plugins/oeyoews/tiddlywiki-fancybox/fancybox\":{\"title\":\"$:/plugins/oeyoews/tiddlywiki-fancybox/fancybox\",\"type\":\"application/javascript\",\"tags\":\"$:/tags/RawMarkup\",\"hide-body\":\"yes\",\"text\":\"<!-- dont builtin css, not work -->\\n<link rel=\\\"stylesheet\\\" href=\\\"https://cdn.jsdelivr.net/npm/@fancyapps/ui@4.0.31/dist/fancybox.css\\\">\\n<script src=\\\"https://cdn.jsdelivr.net/npm/@fancyapps/ui@4.0.31/dist/fancybox.umd.min.js\\\"></script>\\n\\n<!-- if manual asign, this is not work because of load order -->\\n<!-- Fancybox.defaults.Image = { zoom: false }; -->\\n<!-- Fancybox.defaults.Hash = false; -->\\n<!-- Fancybox.getInstance().getSlide().Panzoom.toggleZoom(); -->\\n<script>\\nFancybox.bind('[data-fancybox=\\\"gallery\\\"]', {\\n  Thumbs: {\\n    autoStart: false,\\n  },\\n  Hash: false,\\n  Image: {\\n    zoom: false,\\n    Panzoom: {\\n      doubleClick: null\\n    },\\n  },\\n  fullscreen: {\\n    autoStart: true,\\n  },\\n  Toolbar: {\\n    display: [\\n      { id: \\\"prev\\\", position: \\\"center\\\" },\\n      { id: \\\"counter\\\", position: \\\"center\\\" },\\n      { id: \\\"next\\\", position: \\\"center\\\" },\\n      \\\"zoom\\\",\\n      \\\"slideshow\\\",\\n      \\\"fullscreen\\\",\\n      \\\"download\\\",\\n      \\\"thumbs\\\",\\n      \\\"close\\\",\\n    ],\\n  },\\n  caption: function (fancybox, carousel, slide) {\\n    return (\\n      `${slide.index + 1} / ${carousel.slides.length} <br />` + slide.caption\\n    );\\n  },\\n});\\n</script>\\n\"},\"$:/plugins/oeyoews/tiddlywiki-fancybox/init\":{\"title\":\"$:/plugins/oeyoews/tiddlywiki-fancybox/init\",\"type\":\"application/javascript\",\"<!-- tags\":\"$:/tags/RawMarkupWikified/BottomBody -->\",\"text\":\"<!-- how to remove jq -->\\n<!-- `<script> -->\\n<!-- $(\\\"img\\\").each(function () { -->\\n<!--     var element = document.createElement(\\\"a\\\"); -->\\n<!--     $(element).attr(\\\"data-fancybox\\\", \\\"gallery\\\"); -->\\n<!--     $(element).attr(\\\"href\\\", $(this).attr(\\\"src\\\")); -->\\n<!--     $(this).wrap(element); -->\\n<!-- }); -->\\n<!-- `</script>` -->\\n\\n<!-- no jq -->\\n`<script>\\n      const lables = document.querySelectorAll(\\\"img\\\");\\n      const elem = document.createElement(\\\"a\\\");\\n      lables.forEach((lable, index) => {\\n        const elem = document.createElement(\\\"a\\\");\\n        elem.href = lable.getAttribute(\\\"src\\\")\\n        elem.setAttribute(\\\"data-fancybox\\\", \\\"gallary\\\");\\n        lable.parentNode.replaceChild(elem, lable);\\n        elem.appendChild(lable);\\n      });`\\n`</script>`\\n\"},\"$:/plugins/oeyoews/tiddlywiki-fancybox/macro\":{\"title\":\"$:/plugins/oeyoews/tiddlywiki-fancybox/macro\",\"tags\":\"$:/tags/Macro\",\"text\":\"\\\\whitespace trim\\n\\n\\\\define Fancybox(links)\\n<$list filter=\\\"[enlist<__links__>sort[]]\\\" variable=\\\"link\\\">\\n\\t<a href=<<link>> data-fancybox=\\\"gallary\\\">\\n    <$image source=<<link>> loading=\\\"lazy\\\" tooltip=<<link>>/>\\n\\t</a>\\n\\\\end\\n\"},\"$:/plugins/oeyoews/tiddlywiki-fancybox/single\":{\"title\":\"$:/plugins/oeyoews/tiddlywiki-fancybox/single\",\"text\":\"<<Fancybox \\\"https://gitlab.com/oeyoews/neotw/-/raw/main/img/fancybox4.png\\\" >>\\n\"}}}"}