{"title":"$:/plugins/oeyoews/neotw-permalink","description":"","author":"oeyoews","version":"0.0.1","core-version":">=5.3.0","type":"application/json","plugin-type":"plugin","name":"Neotw Permalink","dependents":"$:/plugins/oeyoews/tiddlywiki-tailwindcss-plus","list":"readme","text":"{\"tiddlers\":{\"$:/plugins/oeyoews/neotw-permalink/Action\":{\"title\":\"$:/plugins/oeyoews/neotw-permalink/Action\",\"tags\":\"$:/tags/StartupAction/PostRender\",\"text\":\"<$list filter=\\\"[{$:/info/url/search}match[?layout=neotw-permalink]]\\\">\\n  <$action-setfield $tiddler=\\\"$:/layout\\\" text=\\\"$:/plugins/oeyoews/neotw-permalink/Layout\\\"/>\\n</$list>\"},\"$:/plugins/oeyoews/neotw-permalink/Layout\":{\"title\":\"$:/plugins/oeyoews/neotw-permalink/Layout\",\"tags\":\"$:/tags/Layout\",\"name\":\"{{$:/plugins/oeyoews/neotw-permalink/icon}}\",\"description\":\"{{$:/plugins/oeyoews/neotw-permalink/readme!!description}}\",\"text\":\"\\\\import [[$:/core/ui/PageMacros]] [all[shadows+tiddlers]tag[$:/tags/Macro]!has[draft.of]]\\n\\n<$vars\\n\\ttv-config-toolbar-icons={{$:/config/Toolbar/Icons}}\\n\\ttv-config-toolbar-text={{$:/config/Toolbar/Text}}\\n\\ttv-config-toolbar-class={{$:/config/Toolbar/ButtonClass}}\\n\\ttv-enable-drag-and-drop={{$:/config/DragAndDrop/Enable}}\\n\\ttv-show-missing-links={{$:/config/MissingLinks}}\\n\\tstoryviewTitle={{$:/view}}\\n\\tlanguageTitle={{{ [{$:/language}get[name]] }}}>\\n\\n<div class=\\\"prose max-w-none prose-indigo m-auto sm:w-auto md:w-2/3\\\">\\n  {{{ [[$:/plugins/oeyoews/neotw-permalink/readme]] ||$:/core/ui/ViewTemplate }}}\\n</div>\"},\"$:/plugins/oeyoews/neotw-permalink/readme\":{\"title\":\"$:/plugins/oeyoews/neotw-permalink/readme\",\"description\":\"\",\"text\":\"{{$:/languages/neotw-permalink/readme}}\\n\"},\"$:/languages/neotw-permalink/readme\":{\"title\":\"$:/languages/neotw-permalink/readme\",\"text\":\"<div class=\\\"prose max-w-none prose-indigo\\\">\\n\\n* [[Source|https://github.com/oeyoews/neotw/tree/main/plugins/oeyoews/neotw-permalink]]\\n* [[Demo|https://oeyoews.github.io/neotw]]\\n\\n</div>\"},\"/home/runner/work/tiddlywiki-starter-kit/tiddlywiki-starter-kit/plugins/oeyoews/neotw-permalink/tiddlers/link-ui.tid\":{\"title\":\"/home/runner/work/tiddlywiki-starter-kit/tiddlywiki-starter-kit/plugins/oeyoews/neotw-permalink/tiddlers/link-ui.tid\",\"description\":\"link-ui\",\"caption\":\"link-ui\",\"list-before\":\"$:/core/ui/Buttons/close\",\"tags\":\"$:/tags/ViewToolbar\",\"text\":\"\\\\whitespace trim\\n<$list filter=\\\"[all[current]!is[system]]\\\">\\n<$button message=\\\"om-permalink\\\" tooltip=\\\"PermaLink\\\" aria-label=\\\"PermaLink\\\" class=<<tv-config-toolbar-class>>>\\n<$list filter=\\\"[<tv-config-toolbar-icons>match[yes]]\\\">\\n  <svg stroke=\\\"currentColor\\\" fill=\\\"currentColor\\\" stroke-width=\\\"0\\\" version=\\\"1.1\\\" viewBox=\\\"0 0 17 17\\\" height=\\\"1em\\\" width=\\\"1em\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\"><g></g><path d=\\\"M2.134 5.139l1.402-2.587c1.086-1.648 3.262-2.095 4.871-1.029l-0.551 0.833c-1.149-0.759-2.703-0.44-3.464 0.709l-1.402 2.587c-0.781 1.188-0.464 2.742 0.687 3.501 1.143 0.752 2.41 0.547 3.313-0.538l0.768 0.641c-0.742 0.892-1.694 1.352-2.678 1.352-0.655 0-1.323-0.204-1.954-0.62-1.61-1.064-2.056-3.239-0.992-4.849zM4.041 8.034l-0.13 0.129 0.705 0.709 0.131-0.13c0.975-0.975 2.561-0.975 3.535 0s0.975 2.561 0 3.535l-3.023 3.024c-0.975 0.975-2.561 0.975-3.535 0s-0.975-2.561 0-3.535l1.058-1.059-0.707-0.707-1.058 1.060c-1.364 1.364-1.364 3.585 0 4.949 0.683 0.683 1.578 1.023 2.475 1.023s1.792-0.341 2.475-1.023l3.023-3.024c1.364-1.364 1.364-3.585 0-4.949-1.367-1.367-3.587-1.364-4.949-0.002zM10.963 7h4.074v-1h-4.074v1zM10.495 8.347l1.951 1.127 0.5-0.865-1.951-1.127-0.5 0.865zM10.75 1.156l-1.58 2.737 0.865 0.5 1.58-2.736-0.865-0.501zM15.867 2.725l-0.5-0.865-4.992 2.882 0.5 0.865 4.992-2.882z\\\"></path></svg>\\n</$list>\\n<$list filter=\\\"[<tv-config-toolbar-text>match[yes]]\\\">\\n<$list filter=\\\"[<tv-config-toolbar-text>match[yes]]\\\">\\n  <span class=\\\"tc-btn-text\\\">\\n   <$text text=\\\"PerMaLink\\\"/>\\n  </span>\\n</$list>\\n</$button>\\n<$list filter=\\\"[all[current]!is[system]]\\\">\"},\"$:/plugins/oeyoews/neotw-permalink/startup.js\":{\"title\":\"$:/plugins/oeyoews/neotw-permalink/startup.js\",\"text\":\"/*\\\\\\ntitle: $:/plugins/oeyoews/neotw-permalink/startup.js\\ntype: application/javascript\\nmodule-type: startup\\n\\n\\\\*/\\n(function () {\\n  /*jslint node: true, browser: true */\\n  /*global $tw: false */\\n  'use strict';\\n\\n  // Export name and synchronous status\\n  exports.name = 'story';\\n  exports.after = ['startup'];\\n  exports.synchronous = true;\\n\\n  exports.startup = function (event) {\\n    if ($tw.browser) {\\n      $tw.rootWidget.addEventListener('om-permalink', function (event) {\\n        const title = event.paramObject?.title || event.tiddlerTitle;\\n        const perflink = `${window.location.href}#${title}`;\\n        // IOS 并不支持navigator, 目前不打断写兼容代码\\n        navigator?.clipboard?.writeText(perflink).then(() => {\\n          /* $tw.wiki.addTiddler(\\n            new $tw.Tiddler({\\n              title: \\\"$:/temp/oeyoews/notify\\\",\\n              text: `Copied to clipboard: ${perflink}`,\\n            })\\n          );\\n          $tw.notifier.display(\\\"$:/temp/oeyoews/notify\\\"); */\\n          Swal.fire({\\n            title: 'Copied to clipboard',\\n            text: `${perflink}`,\\n            icon: 'success',\\n            toast: true,\\n            showCancelButton: false,\\n            showConfirmButton: false,\\n            timer: 2500,\\n            position: 'bottom-end',\\n          });\\n        });\\n      });\\n    }\\n  };\\n})();\\n\",\"type\":\"application/javascript\",\"module-type\":\"startup\"}}}"}