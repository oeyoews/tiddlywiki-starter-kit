{"title":"$:/plugins/oeyoews/markdown-extensions-startup","description":"markdown-extensions-startup","author":"oeyoews","version":"0.0.1","core-version":">=5.3.0","type":"application/json","plugin-type":"plugin","name":"markdown-extensions-startup","meat#disabled":"yes","qrcode":"yes","created":"2023-12-28","dependents":"","list":"readme","text":"{\"tiddlers\":{\"$:/plugins/oeyoews/markdown-extensions-startup/readme\":{\"title\":\"$:/plugins/oeyoews/markdown-extensions-startup/readme\",\"text\":\"<!-- plugin template readme -->\\n\\n- 声明对应的 markdow-it 插件为 `module-type: markdownit` 即可, tiddlywiki 将会通过此插件 (markdown-extensions-startup) 加载对应的 markdown-it 插件.\\n\\n## TODO\\n\\n- 暂不支持 markdown-it plugins option\\n\\n## Motivation\\n\\n仿照 codemirror5 的插件模块加载机制, 将 markdown-it 的每个插件单独打包成插件, 按需加载\\n\\n<!-- your plugin motivation, or why you write this plugin -->\\n\",\"type\":\"text/markdown\",\"description\":\"markdown-extensions-startup\"},\"$:/plugins/oeyoews/markdown-extensions-startup/startup.js\":{\"title\":\"$:/plugins/oeyoews/markdown-extensions-startup/startup.js\",\"text\":\"/*\\\\\\ntitle: $:/plugins/oeyoews/markdown-extensions-startup/startup.js\\ntype: application/javascript\\nmodule-type: startup\\n\\nmarkdown-extensions-startup widget\\n\\\\*/\\n\\nexports.name = 'markdown-startup-hook';\\nexports.platforms = ['browser'];\\nexports.after = ['startup'];\\nexports.synchronous = true;\\n\\nexports.startup = () => {\\n  const md = $tw.Wiki.parsers['text/markdown'].prototype.md;\\n\\n  if (!md) {\\n    return;\\n  }\\n\\n  // load markdownit modules\\n  const modules = $tw.modules.types['markdownit'];\\n  const req = Object.getOwnPropertyNames(modules);\\n\\n  if (req) {\\n    if ($tw.utils.isArray(req)) {\\n      req.forEach((item) => {\\n        md.use(require(item));\\n      });\\n    } else {\\n      md.use(require(req));\\n    }\\n  }\\n};\\n\",\"type\":\"application/javascript\",\"module-type\":\"startup\"}}}"}