{"title":"$:/plugins/oeyoews/neotw-links-gallery","description":"neotw-links-gallery","author":"oeyoews","version":"0.0.1","core-version":">=5.3.0","type":"application/json","plugin-type":"plugin","name":"neotw-links-gallery","dependents":"$:/plugins/oeyoews/tiddlywiki-tailwindcss-plus","list":"readme","text":"{\"tiddlers\":{\"$:/plugins/oeyoews/neotw-links-gallery/readme\":{\"title\":\"$:/plugins/oeyoews/neotw-links-gallery/readme\",\"text\":\"## TODO\\n\\n- add quickadd links button on widget\\n\\n* [ ] add description links order for table\\n* [ ] support revese\\n\",\"type\":\"text/markdown\",\"description\":\"neotw-links-gallery\"},\"$:/plugins/oeyoews/neotw-links-gallery/template.ejs\":{\"title\":\"$:/plugins/oeyoews/neotw-links-gallery/template.ejs\",\"text\":\"<table>\\n\\t<% if (isStoryRiver) { %>\\n\\t\\t<thead>\\n\\t\\t\\t<tr class=\\\"font-bold capitalize\\\">\\n\\t\\t\\t\\t<th>Description</th>\\n\\t\\t\\t\\t<th>Link</th>\\n\\t\\t\\t</tr>\\n\\t\\t</thead>\\n\\t\\t<% } %>\\n\\t\\t\\t<tbody>\\n\\t\\t\\t\\t<% linksURL.forEach(([text, href])=> { %>\\n\\t\\t\\t\\t\\t<tr>\\n\\t\\t\\t\\t\\t\\t<td class=\\\"capitalize font-semibold\\\">\\n\\t\\t\\t\\t\\t\\t\\t<%= text %>\\n\\t\\t\\t\\t\\t\\t</td>\\n\\t\\t\\t\\t\\t\\t<td>\\n\\t\\t\\t\\t\\t\\t\\t<a href=\\\"<%= href %>\\\" title=\\\"<%= href %>\\\" target=\\\"_blank\\\">\\n\\t\\t\\t\\t\\t\\t\\t\\t<%= new URL(href).hostname %>\\n\\t\\t\\t\\t\\t\\t\\t</a>\\n\\t\\t\\t\\t\\t\\t</td>\\n\\t\\t\\t\\t\\t</tr>\\n\\t\\t\\t\\t\\t<% }); %>\\n\\t\\t\\t</tbody>\\n</table>\",\"type\":\"text/plain\"},\"$:/plugins/oeyoews/neotw-links-gallery/widget.js\":{\"title\":\"$:/plugins/oeyoews/neotw-links-gallery/widget.js\",\"text\":\"/*\\\\\\ntitle: $:/plugins/oeyoews/neotw-links-gallery/widget.js\\ntype: application/javascript\\nmodule-type: widget\\n\\nneotw-links-gallery widget\\n\\\\*/\\n\\nconst { widget: Widget } = require('$:/core/modules/widgets/widget.js');\\n\\nclass ListlinksWidget extends Widget {\\n  constructor(parseTreeNode, options) {\\n    super(parseTreeNode, options);\\n    this.jsonfile = null;\\n  }\\n\\n  render(parent, nextSibling) {\\n    if (!$tw.browser) return;\\n    this.parentDomNode = parent;\\n    this.computeAttributes();\\n    this.execute();\\n\\n    const ejs = require('ejs.min.js');\\n    const { json = 'list-links.json' } = this.attributes;\\n    this.jsonfile = json;\\n    const isStoryRiver = this.getVariable('storyTiddler') !== undefined;\\n\\n    const data = $tw.wiki.getTiddlerData(json) || {};\\n    const linksURL = Object.entries(data);\\n\\n    const template = $tw.wiki.getTiddlerText(\\n      '$:/plugins/oeyoews/neotw-links-gallery/template.ejs',\\n    );\\n    const html = ejs.render(template, { linksURL, isStoryRiver });\\n    const domNode = this.document.createElement('div');\\n    domNode.innerHTML = html;\\n\\n    parent.insertBefore(domNode, nextSibling);\\n    this.domNodes.push(domNode);\\n  }\\n\\n  refresh(changedTiddlers) {\\n    if (Object.keys(changedTiddlers).includes(this.jsonfile)) {\\n      this.refreshSelf();\\n      return true;\\n    } else {\\n      return false;\\n    }\\n  }\\n}\\n\\nexports['list-links'] = ListlinksWidget;\\n\",\"type\":\"application/javascript\",\"module-type\":\"widget\"}}}"}