{"title":"$:/plugins/oeyoews/notify","description":"notify","author":"oeyoews","version":"0.0.1","core-version":">=5.3.0","type":"application/json","plugin-type":"plugin","name":"notify","dependents":"$:/plugins/oeyoews/tiddlywiki-tailwindcss-plus","list":"readme","text":"{\"tiddlers\":{\"simple-notify.min.js\":{\"text\":\"var Notify=function(){\\\"use strict\\\";var t=function(t){t.wrapper.classList.add(\\\"notify--fade\\\"),setTimeout((function(){t.wrapper.classList.add(\\\"notify--fadeIn\\\")}),100)},e=function(t){t.wrapper.classList.remove(\\\"notify--fadeIn\\\"),setTimeout((function(){t.wrapper.remove()}),t.speed)},s=function(t){t.wrapper.classList.add(\\\"notify--slide\\\"),setTimeout((function(){t.wrapper.classList.add(\\\"notify--slideIn\\\")}),100)},i=function(t){t.wrapper.classList.remove(\\\"notify--slideIn\\\"),setTimeout((function(){t.wrapper.remove()}),t.speed)};return function(){function o(t){var e=this;this.notifyOut=function(t){t(e)};var s=t.status,i=t.type,o=void 0===i?1:i,n=t.title,a=t.text,r=t.showIcon,c=void 0===r||r,h=t.customIcon,l=void 0===h?\\\"\\\":h,p=t.customClass,d=void 0===p?\\\"\\\":p,u=t.speed,f=void 0===u?500:u,m=t.effect,v=void 0===m?\\\"fade\\\":m,w=t.showCloseButton,y=void 0===w||w,L=t.autoclose,g=void 0!==L&&L,C=t.autotimeout,x=void 0===C?3e3:C,I=t.gap,E=void 0===I?20:I,Z=t.distance,b=void 0===Z?20:Z,B=t.position,M=void 0===B?\\\"right top\\\":B,N=t.customWrapper,O=void 0===N?\\\"\\\":N;this.customWrapper=O,this.status=s,this.title=n,this.text=a,this.showIcon=c,this.customIcon=l,this.customClass=d,this.speed=f,this.effect=v,this.showCloseButton=y,this.autoclose=g,this.autotimeout=x,this.gap=E,this.distance=b,this.type=o,this.position=M,this.checkRequirements()?(this.setContainer(),this.setWrapper(),this.setPosition(),this.showIcon&&this.setIcon(),this.showCloseButton&&this.setCloseButton(),this.setContent(),this.container.prepend(this.wrapper),this.setEffect(),this.notifyIn(this.selectedNotifyInEffect),this.autoclose&&this.autoClose(),this.setObserver()):console.error(\\\"You must specify 'title' or 'text' at least.\\\")}return o.prototype.checkRequirements=function(){return!(!this.title&&!this.text)},o.prototype.setContainer=function(){var t=document.querySelector(\\\".notifications-container\\\");t?this.container=t:(this.container=document.createElement(\\\"div\\\"),this.container.classList.add(\\\"notifications-container\\\"),document.body.appendChild(this.container)),this.container.style.setProperty(\\\"--distance\\\",this.distance+\\\"px\\\")},o.prototype.setPosition=function(){var t=\\\"notify-is-\\\";\\\"center\\\"===this.position?this.container.classList.add(t+\\\"center\\\"):this.container.classList.remove(t+\\\"center\\\"),this.position.includes(\\\"left\\\")?this.container.classList.add(t+\\\"left\\\"):this.container.classList.remove(t+\\\"left\\\"),this.position.includes(\\\"right\\\")?this.container.classList.add(t+\\\"right\\\"):this.container.classList.remove(t+\\\"right\\\"),this.position.includes(\\\"x-center\\\")?this.container.classList.add(t+\\\"x-center\\\"):this.container.classList.remove(t+\\\"x-center\\\"),this.position.includes(\\\"top\\\")?this.container.classList.add(t+\\\"top\\\"):this.container.classList.remove(t+\\\"top\\\"),this.position.includes(\\\"bottom\\\")?this.container.classList.add(t+\\\"bottom\\\"):this.container.classList.remove(t+\\\"bottom\\\"),this.position.includes(\\\"y-center\\\")?this.container.classList.add(t+\\\"y-center\\\"):this.container.classList.remove(t+\\\"y-center\\\")},o.prototype.setCloseButton=function(){var t=this,e=document.createElement(\\\"div\\\");e.classList.add(\\\"notify__close\\\"),e.innerHTML='<svg width=\\\"16\\\" height=\\\"16\\\" viewBox=\\\"0 0 16 16\\\" fill=\\\"none\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\"><path d=\\\"m8.94 8 4.2-4.193a.67.67 0 0 0-.947-.947L8 7.06l-4.193-4.2a.67.67 0 1 0-.947.947L7.06 8l-4.2 4.193a.667.667 0 0 0 .217 1.093.666.666 0 0 0 .73-.146L8 8.94l4.193 4.2a.665.665 0 0 0 .947 0 .665.665 0 0 0 0-.947L8.94 8Z\\\" fill=\\\"currentColor\\\"/></svg>',this.wrapper.appendChild(e),e.addEventListener(\\\"click\\\",(function(){t.close()}))},o.prototype.setWrapper=function(){var t;this.customWrapper?this.wrapper=(t=this.customWrapper,(new DOMParser).parseFromString(t,\\\"text/html\\\").body.childNodes[0]):this.wrapper=document.createElement(\\\"div\\\"),this.wrapper.style.setProperty(\\\"--gap\\\",this.gap+\\\"px\\\"),this.wrapper.style.transitionDuration=this.speed+\\\"ms\\\",this.wrapper.classList.add(\\\"notify\\\"),this.wrapper.classList.add(\\\"notify--type-\\\"+this.type),this.wrapper.classList.add(\\\"notify--\\\"+this.status),this.autoclose&&this.wrapper.style.setProperty(\\\"--timeout\\\",\\\"\\\"+(this.autotimeout+this.speed)),this.autoclose&&this.wrapper.classList.add(\\\"notify-autoclose\\\"),this.customClass&&this.wrapper.classList.add(this.customClass)},o.prototype.setContent=function(){var t,e,s=document.createElement(\\\"div\\\");s.classList.add(\\\"notify-content\\\"),this.title&&((t=document.createElement(\\\"div\\\")).classList.add(\\\"notify__title\\\"),t.textContent=this.title,this.showCloseButton||(t.style.paddingRight=\\\"0\\\")),this.text&&((e=document.createElement(\\\"div\\\")).classList.add(\\\"notify__text\\\"),e.innerHTML=this.text.trim(),this.title||(e.style.marginTop=\\\"0\\\")),this.wrapper.appendChild(s),this.title&&s.appendChild(t),this.text&&s.appendChild(e)},o.prototype.setIcon=function(){var t=document.createElement(\\\"div\\\");t.classList.add(\\\"notify__icon\\\"),t.innerHTML=this.customIcon||function(t){switch(t){case\\\"success\\\":return'<svg height=\\\"32\\\" width=\\\"32\\\" viewBox=\\\"0 0 32 32\\\" fill=\\\"none\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\"><path fill=\\\"currentColor\\\" d=\\\"m19.627 11.72-5.72 5.733-2.2-2.2a1.335 1.335 0 0 0-2.255.381 1.334 1.334 0 0 0 .375 1.5l3.133 3.146a1.333 1.333 0 0 0 1.88 0l6.667-6.667a1.334 1.334 0 1 0-1.88-1.893ZM16 2.667a13.333 13.333 0 1 0 0 26.666 13.333 13.333 0 0 0 0-26.666Zm0 24a10.666 10.666 0 1 1 0-21.333 10.666 10.666 0 0 1 0 21.333Z\\\"/></svg>';case\\\"warning\\\":return'<svg height=\\\"32\\\" width=\\\"32\\\" viewBox=\\\"0 0 32 32\\\" fill=\\\"none\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\"><path fill=\\\"currentColor\\\" d=\\\"M13.666 15A1.333 1.333 0 0 0 15 13.667V8.334a1.333 1.333 0 0 0-2.665 0v5.333A1.333 1.333 0 0 0 13.666 15Zm-.507 5.227c.325.134.69.134 1.014 0 .164-.064.314-.159.44-.28a1.56 1.56 0 0 0 .28-.44c.075-.158.111-.332.106-.507a1.333 1.333 0 0 0-.386-.946 1.53 1.53 0 0 0-.44-.28A1.333 1.333 0 0 0 12.334 19a1.4 1.4 0 0 0 .386.947c.127.121.277.216.44.28ZM13.666 27a13.333 13.333 0 1 0 0-26.667 13.333 13.333 0 0 0 0 26.667Zm0-24a10.667 10.667 0 1 1 0 21.333 10.667 10.667 0 0 1 0-21.333Z\\\"/></svg>';case\\\"error\\\":return'<svg height=\\\"32\\\" width=\\\"32\\\" viewBox=\\\"0 0 32 32\\\" fill=\\\"none\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\"><path fill=\\\"currentColor\\\" d=\\\"M16 2.667a13.333 13.333 0 1 0 0 26.666 13.333 13.333 0 0 0 0-26.666Zm0 24A10.667 10.667 0 0 1 5.333 16a10.56 10.56 0 0 1 2.254-6.533l14.946 14.946A10.56 10.56 0 0 1 16 26.667Zm8.413-4.134L9.467 7.587A10.56 10.56 0 0 1 16 5.333 10.667 10.667 0 0 1 26.667 16a10.56 10.56 0 0 1-2.254 6.533Z\\\"/></svg>';case\\\"info\\\":return'<svg height=\\\"32\\\" width=\\\"32\\\" viewBox=\\\"0 0 32 32\\\" fill=\\\"none\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\"><path fill=\\\"currentColor\\\" d=\\\"M16 14.667A1.333 1.333 0 0 0 14.667 16v5.333a1.333 1.333 0 1 0 2.666 0V16A1.333 1.333 0 0 0 16 14.667Zm.507-5.227a1.333 1.333 0 0 0-1.014 0 1.334 1.334 0 0 0-.44.28c-.117.13-.212.278-.28.44a1.12 1.12 0 0 0-.106.507 1.333 1.333 0 0 0 .386.946c.13.118.279.213.44.28a1.333 1.333 0 0 0 1.84-1.226 1.4 1.4 0 0 0-.386-.947 1.334 1.334 0 0 0-.44-.28ZM16 2.667a13.333 13.333 0 1 0 0 26.666 13.333 13.333 0 0 0 0-26.666Zm0 24a10.666 10.666 0 1 1 0-21.333 10.666 10.666 0 0 1 0 21.333Z\\\"/></svg>'}}(this.status),(this.status||this.customIcon)&&this.wrapper.appendChild(t)},o.prototype.setObserver=function(){var t=this,e=new IntersectionObserver((function(e){e[0].intersectionRatio<=0&&t.close()}),{threshold:0});setTimeout((function(){e.observe(t.wrapper)}),this.speed)},o.prototype.notifyIn=function(t){t(this)},o.prototype.autoClose=function(){var t=this;setTimeout((function(){t.close()}),this.autotimeout+this.speed)},o.prototype.close=function(){this.notifyOut(this.selectedNotifyOutEffect)},o.prototype.setEffect=function(){switch(this.effect){case\\\"fade\\\":this.selectedNotifyInEffect=t,this.selectedNotifyOutEffect=e;break;case\\\"slide\\\":this.selectedNotifyInEffect=s,this.selectedNotifyOutEffect=i;break;default:this.selectedNotifyInEffect=t,this.selectedNotifyOutEffect=e}},o}()}();module.exports={Notify:Notify};\",\"title\":\"simple-notify.min.js\",\"module-type\":\"library\",\"type\":\"application/javascript\"},\"$:/plugins/oeyoews/notify/simple-notify.min.css\":{\"text\":\".notifications-container{max-height:100vh;max-width:320px;pointer-events:none;position:fixed;width:100%;z-index:9999}.notifications-container.notify-is-x-center{left:50%;transform:translateX(-50%)}.notifications-container.notify-is-y-center{top:50%;transform:translateY(-50%)}.notifications-container.notify-is-center{left:50%;top:50%;transform:translate(-50%, -50%)}.notifications-container.notify-is-left{left:0}.notifications-container.notify-is-right{right:0}.notifications-container.notify-is-top{top:0}.notifications-container.notify-is-bottom{bottom:0}.notifications-container.notify-is-x-center.notify-is-top{top:var(--distance)}.notifications-container.notify-is-x-center.notify-is-bottom{bottom:var(--distance)}.notifications-container>*{pointer-events:auto}.notify{--notify-error: rgb(235, 87, 87);--notify-error-progress: rgb(192, 69, 69);--notify-success: rgb(111, 207, 151);--notify-success-progress: rgb(84, 170, 120);--notify-warning: rgb(242, 201, 76);--notify-warning-progress: rgb(196, 166, 79);--notify-info: rgb(81, 205, 243);--notify-info-progress: rgb(84, 169, 196);--notify-gray: rgb(51, 51, 51);--notify-gray-2: rgb(77, 77, 77);--notify-gray-3: rgb(130, 130, 130);--notify-white: rgb(255, 255, 255);--notify-white-2: rgba(255, 255, 255, 0.8);--notify-padding: 0.75rem;--notify-icon-size: 32px;--notify-close-icon-size: 16px;align-items:center;border-radius:6px;box-sizing:border-box;display:flex;font-family:-apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;overflow:hidden;padding:var(--notify-padding);position:relative;text-decoration:none;transition-timing-function:ease;width:100%}.notify__icon{align-items:center;display:flex;flex-shrink:0;height:var(--notify-icon-size);justify-content:center;margin-right:12px;width:var(--notify-icon-size)}.notify__close{align-items:center;cursor:pointer;display:flex;height:var(--notify-close-icon-size);justify-content:center;position:absolute;right:12px;top:12px;user-select:none;width:var(--notify-close-icon-size)}.notify__close *{pointer-events:none}.notify__title{font-size:1rem;font-weight:600;padding-right:calc(var(--notify-padding) + var(--notify-close-icon-size))}.notify__text{font-size:0.875rem;margin-top:0.25rem}.notify--type-1{background-color:#fff;border:1px solid currentColor}.notify--type-1 .notify__close{color:var(--notify-gray-3)}.notify--type-1 .notify__title{color:var(--notify-gray)}.notify--type-1 .notify__text{color:var(--notify-gray-2)}.notify--type-2{color:var(--notify-gray)}.notify--type-3{color:var(--notify-white)}.notify--type-3 .notify__text{color:var(--notify-white-2)}.notify--error.notify--type-1{box-shadow:0 2px 26px rgba(215,0,0,0.1);color:var(--notify-error)}.notify--error.notify--type-2,.notify--error.notify--type-3{background-color:var(--notify-error)}.notify--warning.notify--type-1{box-shadow:0 2px 26px rgba(242,201,76,0.1);color:var(--notify-warning)}.notify--warning.notify--type-2,.notify--warning.notify--type-3{background-color:var(--notify-warning)}.notify--success.notify--type-1{box-shadow:0 2px 26px rgba(82,215,0,0.1);color:var(--notify-success)}.notify--success.notify--type-2,.notify--success.notify--type-3{background-color:var(--notify-success)}.notify--info.notify--type-1{box-shadow:0 2px 26px rgba(84,175,202,0.1);color:var(--notify-info)}.notify--info.notify--type-2,.notify--info.notify--type-3{background-color:var(--notify-info)}.notify--fade{opacity:0;will-change:opacity}.notify--fadeIn{opacity:1}.notify--slide{opacity:0;will-change:opacity, transform}.notify-is-center .notify--slide,.notify-is-y-center .notify--slide,.notify-is-x-center:not(.notify-is-bottom) .notify--slide{transform:translateY(-20px)}.notify-is-x-center.notify-is-bottom .notify--slide{transform:translateY(20px)}.notify-is-right .notify--slide{transform:translateX(calc(var(--distance) + 110%))}.notify-is-left .notify--slide{transform:translateX(calc((var(--distance) * -1) - 110%))}.notify-is-x-center:not(.notify-is-bottom) .notify--slideIn,.notify-is-center .notify--slideIn,.notify-is-y-center .notify--slideIn,.notify-is-x-center.notify-is-bottom .notify--slideIn{opacity:1;transform:translateY(0)}.notify-is-right .notify--slideIn,.notify-is-left .notify--slideIn{opacity:1;transform:translateX(0)}.notify-is-left .notify{left:var(--distance)}.notify-is-right .notify{right:var(--distance)}.notify-is-top .notify,.notify-is-center .notify,.notify-is-y-center .notify,.notify-is-x-center.notify-is-top .notify{margin-top:var(--gap)}.notify-is-bottom .notify,.notify-is-x-center:not(.notify-is-top) .notify{margin-bottom:var(--gap)}.notify.notify-autoclose{--progress-height: 5px;padding-bottom:calc(var(--notify-padding) + var(--progress-height))}.notify.notify-autoclose::before{animation:progress calc(var(--timeout) * 1ms) linear forwards;bottom:0;content:'';height:var(--progress-height);left:0;position:absolute;transform:scale3d(1, 1, 1);transform-origin:left;width:100%}@keyframes progress{to{transform:scale3d(0, 1, 1)}}.notify.notify-autoclose.notify--error::before{background-color:var(--notify-error-progress)}.notify.notify-autoclose.notify--warning::before{background-color:var(--notify-warning-progress)}.notify.notify-autoclose.notify--success::before{background-color:var(--notify-success-progress)}.notify.notify-autoclose.notify--info::before{background-color:var(--notify-info-progress)}\",\"title\":\"$:/plugins/oeyoews/notify/simple-notify.min.css\",\"type\":\"text/css\",\"tags\":\"$:/tags/Stylesheet\"},\"$:/plugins/oeyoews/notify/readme\":{\"title\":\"$:/plugins/oeyoews/notify/readme\",\"text\":\"## simple-notify\\n\\n![img](https://i.imgur.com/ubW13li.png)\\n\\n\\n* use [simple-notify](https://github.com/simple-notify/simple-notify) instead of `tm-notify` for no status condition tiddler\\n\\n## Examples\\n\\n```\\n// widget\\n<$notify title=\\\"Test simple notify\\\" />\\n\\n// wikitext\\n<$button>\\n\\t<$action-sendmessage $message=\\\"om-notify\\\" title=\\\"Just test simple notify\\\" autoclose=\\\"false\\\" />\\n\\tom-notify\\n</$button>\\n```\\n\\n```js\\n// For Developers, you can use `om-notify` to instead of `tm-notify`\\nthis.parentWidget.dispatchEvent({\\n  type: 'om-notify',\\n  paramObject: options,\\n});\\n```\\n\\n<$notify title=\\\"Test simple notify\\\" />\\n\\n<$button>\\n\\t<$action-sendmessage $message=\\\"om-notify\\\" title=\\\"Just test simple notify\\\" autoclose=\\\"false\\\" />\\n\\tom-notify\\n</$button>\\n\",\"type\":\"text/markdown\",\"description\":\"notify\"},\"$:/plugins/oeyoews/notify/options.js\":{\"title\":\"$:/plugins/oeyoews/notify/options.js\",\"text\":\"/*\\\\\\ntitle: $:/plugins/oeyoews/notify/options.js\\ntype: application/javascript\\nmodule-type: library\\n\\n\\\\*/\\nmodule.exports = {\\n  status: 'success', // error, warning\\n  title: 'Notify Title',\\n  text: 'Notify text lorem ipsum',\\n  effect: 'slide', // fade\\n  speed: 300,\\n  customClass: null,\\n  customIcon: null,\\n  showIcon: true,\\n  showCloseButton: true,\\n  autoclose: true,\\n  autotimeout: 3000,\\n  gap: 20,\\n  distance: 20,\\n  type: 1, // 1, 2, 3\\n  position: 'right top', // top bottom center // left right\\n};\\n\",\"type\":\"application/javascript\",\"module-type\":\"library\"},\"$:/plugins/oeyoews/notify/patch-progress.css\":{\"title\":\"$:/plugins/oeyoews/notify/patch-progress.css\",\"tags\":\"$:/tags/Stylesheet\",\"type\":\"text/css\",\"text\":\".notify.notify-autoclose {\\r\\n    --progress-height: 0px !important;\\r\\n }\"},\"$:/plugins/oeyoews/notify/startup.js\":{\"title\":\"$:/plugins/oeyoews/notify/startup.js\",\"text\":\"/*\\\\\\ntitle: $:/plugins/oeyoews/notify/startup.js\\ntype: application/javascript\\nmodule-type: startup\\n\\n\\\\*/\\nexports.name = 'notify-startup-hook';\\nexports.platforms = ['browser'];\\nexports.after = ['startup'];\\nexports.synchronous = true;\\nexports.startup = () => {\\n  const { Notify } = require('simple-notify.min.js');\\n  const defaultOptions = require('./options');\\n\\n  $tw.rootWidget.addEventListener('om-notify', (event) => {\\n    const paramObject = event.paramObject || {};\\n    new Notify(Object.assign({}, defaultOptions, paramObject));\\n  });\\n};\\n\",\"type\":\"application/javascript\",\"module-type\":\"startup\"},\"$:/plugins/oeyoews/notify/widget.js\":{\"title\":\"$:/plugins/oeyoews/notify/widget.js\",\"text\":\"/*\\\\\\ntitle: $:/plugins/oeyoews/notify/widget.js\\ntype: application/javascript\\nmodule-type: widget\\n\\nnotify widget\\n\\n\\\\*/\\nconst { widget: Widget } = require('$:/core/modules/widgets/widget.js');\\n// const defaultOptions = require('./options');\\n// const { Notify } = require('simple-notify.min.js');\\n\\nclass NotifyWidget extends Widget {\\n  render(parent, nextSibling) {\\n    if (!$tw.browser) return;\\n    this.parentDomNode = parent;\\n    this.computeAttributes();\\n    this.execute();\\n\\n    const options = this.attributes;\\n\\n    const createElement = $tw.utils.domMaker;\\n    const buttonNode = createElement('button', {\\n      text: options.title || 'click',\\n    });\\n\\n    buttonNode.onclick = () => {\\n      this.parentWidget.dispatchEvent({\\n        type: 'om-notify',\\n        paramObject: options,\\n      });\\n    };\\n\\n    parent.insertBefore(buttonNode, nextSibling);\\n    this.domNodes.push(buttonNode);\\n  }\\n}\\n\\nexports.notify = NotifyWidget;\\n\",\"type\":\"application/javascript\",\"module-type\":\"widget\"}}}"}