(function(F,o){typeof exports=="object"&&typeof module<"u"?o(exports,require("$:/plugins/oeyoews/neotw-vue3/vue.global.prod.js")):typeof define=="function"&&define.amd?define(["exports","vue"],o):(F=typeof globalThis<"u"?globalThis:F||self,o(F.VueCommandPalette={},F.Vue))})(this,function(F,o){"use strict";var me;const pe=typeof window<"u",Ge=n=>typeof n=="string",Y=()=>{};pe&&((me=window==null?void 0:window.navigator)==null?void 0:me.userAgent)&&/iP(ad|hone|od)/.test(window.navigator.userAgent);function te(n){return typeof n=="function"?n():o.unref(n)}function je(n,e){function t(...s){n(()=>e.apply(this,s),{fn:e,thisArg:this,args:s})}return t}function Ue(n,e={}){let t,s;return i=>{const c=te(n),l=te(e.maxWait);if(t&&clearTimeout(t),c<=0||l!==void 0&&l<=0)return s&&(clearTimeout(s),s=null),i();l&&!s&&(s=setTimeout(()=>{t&&clearTimeout(t),s=null,i()},l)),t=setTimeout(()=>{s&&clearTimeout(s),s=null,i()},c)}}function He(n){return n}function We(n){return o.getCurrentScope()?(o.onScopeDispose(n),!0):!1}function ge(n,e=200,t={}){return je(Ue(e,t),n)}function ne(n,e=200,t={}){if(e<=0)return n;const s=o.ref(n.value),r=ge(()=>{s.value=n.value},e,t);return o.watch(n,()=>r()),s}function _e(n,e,t){return o.watch(n,(s,r,i)=>{s&&e(s,r,i)},t)}function ze(n){var e;const t=te(n);return(e=t==null?void 0:t.$el)!=null?e:t}const ye=pe?window:void 0;function J(...n){let e,t,s,r;if(Ge(n[0])?([t,s,r]=n,e=ye):[e,t,s,r]=n,!e)return Y;let i=Y;const c=o.watch(()=>ze(e),a=>{i(),a&&(a.addEventListener(t,s,r),i=()=>{a.removeEventListener(t,s,r),i=Y})},{immediate:!0,flush:"post"}),l=()=>{c(),i()};return We(l),l}const se=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},re="__vueuse_ssr_handlers__";se[re]=se[re]||{},se[re];const Qe={ctrl:"control",command:"meta",cmd:"meta",option:"alt",up:"arrowup",down:"arrowdown",left:"arrowleft",right:"arrowright"};function Ye(n={}){const{reactive:e=!1,target:t=ye,aliasMap:s=Qe,passive:r=!0,onEventFired:i=Y}=n,c=o.reactive(new Set),l={toJSON(){return{}},current:c},a=e?o.reactive(l):l,d=new Set,h=new Set;function f(m,_){m in a&&(e?a[m]=_:a[m].value=_)}function g(){for(const m of h)f(m,!1)}function y(m,_){var I,x;const M=(I=m.key)==null?void 0:I.toLowerCase(),G=[(x=m.code)==null?void 0:x.toLowerCase(),M].filter(Boolean);M&&(_?c.add(M):c.delete(M));for(const C of G)h.add(C),f(C,_);M==="meta"&&!_?(d.forEach(C=>{c.delete(C),f(C,!1)}),d.clear()):typeof m.getModifierState=="function"&&m.getModifierState("Meta")&&_&&[...c,...G].forEach(C=>d.add(C))}J(t,"keydown",m=>(y(m,!0),i(m)),{passive:r}),J(t,"keyup",m=>(y(m,!1),i(m)),{passive:r}),J("blur",g,{passive:!0}),J("focus",g,{passive:!0});const S=new Proxy(a,{get(m,_,I){if(typeof _!="string")return Reflect.get(m,_,I);if(_=_.toLowerCase(),_ in s&&(_=s[_]),!(_ in a))if(/[+_-]/.test(_)){const M=_.split(/[+_-]/g).map(R=>R.trim());a[_]=o.computed(()=>M.every(R=>o.unref(S[R])))}else a[_]=o.ref(!1);const x=Reflect.get(m,_,I);return e?o.unref(x):x}});return S}var Ee;(function(n){n.UP="UP",n.RIGHT="RIGHT",n.DOWN="DOWN",n.LEFT="LEFT",n.NONE="NONE"})(Ee||(Ee={}));var Je=Object.defineProperty,Se=Object.getOwnPropertySymbols,Xe=Object.prototype.hasOwnProperty,qe=Object.prototype.propertyIsEnumerable,we=(n,e,t)=>e in n?Je(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,Ze=(n,e)=>{for(var t in e||(e={}))Xe.call(e,t)&&we(n,t,e[t]);if(Se)for(var t of Se(e))qe.call(e,t)&&we(n,t,e[t]);return n};Ze({linear:He},{easeInSine:[.12,0,.39,0],easeOutSine:[.61,1,.88,1],easeInOutSine:[.37,0,.63,1],easeInQuad:[.11,0,.5,0],easeOutQuad:[.5,1,.89,1],easeInOutQuad:[.45,0,.55,1],easeInCubic:[.32,0,.67,0],easeOutCubic:[.33,1,.68,1],easeInOutCubic:[.65,0,.35,1],easeInQuart:[.5,0,.75,0],easeOutQuart:[.25,1,.5,1],easeInOutQuart:[.76,0,.24,1],easeInQuint:[.64,0,.78,0],easeOutQuint:[.22,1,.36,1],easeInOutQuint:[.83,0,.17,1],easeInExpo:[.7,0,.84,0],easeOutExpo:[.16,1,.3,1],easeInOutExpo:[.87,0,.13,1],easeInCirc:[.55,0,1,.45],easeOutCirc:[0,.55,.45,1],easeInOutCirc:[.85,0,.15,1],easeInBack:[.36,0,.66,-.56],easeOutBack:[.34,1.56,.64,1],easeInOutBack:[.68,-.6,.32,1.6]});function N(n){return Array.isArray?Array.isArray(n):be(n)==="[object Array]"}const et=1/0;function tt(n){if(typeof n=="string")return n;let e=n+"";return e=="0"&&1/n==-et?"-0":e}function nt(n){return n==null?"":tt(n)}function v(n){return typeof n=="string"}function Ie(n){return typeof n=="number"}function st(n){return n===!0||n===!1||rt(n)&&be(n)=="[object Boolean]"}function Me(n){return typeof n=="object"}function rt(n){return Me(n)&&n!==null}function O(n){return n!=null}function oe(n){return!n.trim().length}function be(n){return n==null?n===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(n)}const Cn="Extended search is not available",ot="Incorrect 'index' type",it=n=>`Invalid value for key ${n}`,ct=n=>`Pattern length exceeds max of ${n}.`,at=n=>`Missing ${n} property in key`,lt=n=>`Property 'weight' in key '${n}' must be a positive integer`,xe=Object.prototype.hasOwnProperty;class ut{constructor(e){this._keys=[],this._keyMap={};let t=0;e.forEach(s=>{let r=ke(s);t+=r.weight,this._keys.push(r),this._keyMap[r.id]=r,t+=r.weight}),this._keys.forEach(s=>{s.weight/=t})}get(e){return this._keyMap[e]}keys(){return this._keys}toJSON(){return JSON.stringify(this._keys)}}function ke(n){let e=null,t=null,s=null,r=1,i=null;if(v(n)||N(n))s=n,e=Ce(n),t=ie(n);else{if(!xe.call(n,"name"))throw new Error(at("name"));const c=n.name;if(s=c,xe.call(n,"weight")&&(r=n.weight,r<=0))throw new Error(lt(c));e=Ce(c),t=ie(c),i=n.getFn}return{path:e,id:t,weight:r,src:s,getFn:i}}function Ce(n){return N(n)?n:n.split(".")}function ie(n){return N(n)?n.join("."):n}function dt(n,e){let t=[],s=!1;const r=(i,c,l)=>{if(!!O(i))if(!c[l])t.push(i);else{let a=c[l];const d=i[a];if(!O(d))return;if(l===c.length-1&&(v(d)||Ie(d)||st(d)))t.push(nt(d));else if(N(d)){s=!0;for(let h=0,f=d.length;h<f;h+=1)r(d[h],c,l+1)}else c.length&&r(d,c,l+1)}};return r(n,v(e)?e.split("."):e,0),s?t:t[0]}var p={...{isCaseSensitive:!1,includeScore:!1,keys:[],shouldSort:!0,sortFn:(n,e)=>n.score===e.score?n.idx<e.idx?-1:1:n.score<e.score?-1:1},...{includeMatches:!1,findAllMatches:!1,minMatchCharLength:1},...{location:0,threshold:.6,distance:100},...{useExtendedSearch:!1,getFn:dt,ignoreLocation:!1,ignoreFieldNorm:!1,fieldNormWeight:1}};const ht=/[^ ]+/g;function ft(n=1,e=3){const t=new Map,s=Math.pow(10,e);return{get(r){const i=r.match(ht).length;if(t.has(i))return t.get(i);const c=1/Math.pow(i,.5*n),l=parseFloat(Math.round(c*s)/s);return t.set(i,l),l},clear(){t.clear()}}}class ce{constructor({getFn:e=p.getFn,fieldNormWeight:t=p.fieldNormWeight}={}){this.norm=ft(t,3),this.getFn=e,this.isCreated=!1,this.setIndexRecords()}setSources(e=[]){this.docs=e}setIndexRecords(e=[]){this.records=e}setKeys(e=[]){this.keys=e,this._keysMap={},e.forEach((t,s)=>{this._keysMap[t.id]=s})}create(){this.isCreated||!this.docs.length||(this.isCreated=!0,v(this.docs[0])?this.docs.forEach((e,t)=>{this._addString(e,t)}):this.docs.forEach((e,t)=>{this._addObject(e,t)}),this.norm.clear())}add(e){const t=this.size();v(e)?this._addString(e,t):this._addObject(e,t)}removeAt(e){this.records.splice(e,1);for(let t=e,s=this.size();t<s;t+=1)this.records[t].i-=1}getValueForItemAtKeyId(e,t){return e[this._keysMap[t]]}size(){return this.records.length}_addString(e,t){if(!O(e)||oe(e))return;let s={v:e,i:t,n:this.norm.get(e)};this.records.push(s)}_addObject(e,t){let s={i:t,$:{}};this.keys.forEach((r,i)=>{let c=r.getFn?r.getFn(e):this.getFn(e,r.path);if(!!O(c)){if(N(c)){let l=[];const a=[{nestedArrIndex:-1,value:c}];for(;a.length;){const{nestedArrIndex:d,value:h}=a.pop();if(!!O(h))if(v(h)&&!oe(h)){let f={v:h,i:d,n:this.norm.get(h)};l.push(f)}else N(h)&&h.forEach((f,g)=>{a.push({nestedArrIndex:g,value:f})})}s.$[i]=l}else if(v(c)&&!oe(c)){let l={v:c,n:this.norm.get(c)};s.$[i]=l}}}),this.records.push(s)}toJSON(){return{keys:this.keys,records:this.records}}}function Ae(n,e,{getFn:t=p.getFn,fieldNormWeight:s=p.fieldNormWeight}={}){const r=new ce({getFn:t,fieldNormWeight:s});return r.setKeys(n.map(ke)),r.setSources(e),r.create(),r}function mt(n,{getFn:e=p.getFn,fieldNormWeight:t=p.fieldNormWeight}={}){const{keys:s,records:r}=n,i=new ce({getFn:e,fieldNormWeight:t});return i.setKeys(s),i.setIndexRecords(r),i}function X(n,{errors:e=0,currentLocation:t=0,expectedLocation:s=0,distance:r=p.distance,ignoreLocation:i=p.ignoreLocation}={}){const c=e/n.length;if(i)return c;const l=Math.abs(s-t);return r?c+l/r:l?1:c}function pt(n=[],e=p.minMatchCharLength){let t=[],s=-1,r=-1,i=0;for(let c=n.length;i<c;i+=1){let l=n[i];l&&s===-1?s=i:!l&&s!==-1&&(r=i-1,r-s+1>=e&&t.push([s,r]),s=-1)}return n[i-1]&&i-s>=e&&t.push([s,i-1]),t}const V=32;function gt(n,e,t,{location:s=p.location,distance:r=p.distance,threshold:i=p.threshold,findAllMatches:c=p.findAllMatches,minMatchCharLength:l=p.minMatchCharLength,includeMatches:a=p.includeMatches,ignoreLocation:d=p.ignoreLocation}={}){if(e.length>V)throw new Error(ct(V));const h=e.length,f=n.length,g=Math.max(0,Math.min(s,f));let y=i,S=g;const m=l>1||a,_=m?Array(f):[];let I;for(;(I=n.indexOf(e,S))>-1;){let A=X(e,{currentLocation:I,expectedLocation:g,distance:r,ignoreLocation:d});if(y=Math.min(A,y),S=I+h,m){let T=0;for(;T<h;)_[I+T]=1,T+=1}}S=-1;let x=[],M=1,R=h+f;const G=1<<h-1;for(let A=0;A<h;A+=1){let T=0,L=R;for(;T<L;)X(e,{errors:A,currentLocation:g+L,expectedLocation:g,distance:r,ignoreLocation:d})<=y?T=L:R=L,L=Math.floor((R-T)/2+T);R=L;let P=Math.max(1,g-L+1),W=c?f:Math.min(g+L,f)+h,$=Array(W+2);$[W+1]=(1<<A)-1;for(let k=W;k>=P;k-=1){let j=k-1,Q=t[n.charAt(j)];if(m&&(_[j]=+!!Q),$[k]=($[k+1]<<1|1)&Q,A&&($[k]|=(x[k+1]|x[k])<<1|1|x[k+1]),$[k]&G&&(M=X(e,{errors:A,currentLocation:j,expectedLocation:g,distance:r,ignoreLocation:d}),M<=y)){if(y=M,S=j,S<=g)break;P=Math.max(1,2*g-S)}}if(X(e,{errors:A+1,currentLocation:g,expectedLocation:g,distance:r,ignoreLocation:d})>y)break;x=$}const C={isMatch:S>=0,score:Math.max(.001,M)};if(m){const A=pt(_,l);A.length?a&&(C.indices=A):C.isMatch=!1}return C}function _t(n){let e={};for(let t=0,s=n.length;t<s;t+=1){const r=n.charAt(t);e[r]=(e[r]||0)|1<<s-t-1}return e}class Oe{constructor(e,{location:t=p.location,threshold:s=p.threshold,distance:r=p.distance,includeMatches:i=p.includeMatches,findAllMatches:c=p.findAllMatches,minMatchCharLength:l=p.minMatchCharLength,isCaseSensitive:a=p.isCaseSensitive,ignoreLocation:d=p.ignoreLocation}={}){if(this.options={location:t,threshold:s,distance:r,includeMatches:i,findAllMatches:c,minMatchCharLength:l,isCaseSensitive:a,ignoreLocation:d},this.pattern=a?e:e.toLowerCase(),this.chunks=[],!this.pattern.length)return;const h=(g,y)=>{this.chunks.push({pattern:g,alphabet:_t(g),startIndex:y})},f=this.pattern.length;if(f>V){let g=0;const y=f%V,S=f-y;for(;g<S;)h(this.pattern.substr(g,V),g),g+=V;if(y){const m=f-V;h(this.pattern.substr(m),m)}}else h(this.pattern,0)}searchIn(e){const{isCaseSensitive:t,includeMatches:s}=this.options;if(t||(e=e.toLowerCase()),this.pattern===e){let S={isMatch:!0,score:0};return s&&(S.indices=[[0,e.length-1]]),S}const{location:r,distance:i,threshold:c,findAllMatches:l,minMatchCharLength:a,ignoreLocation:d}=this.options;let h=[],f=0,g=!1;this.chunks.forEach(({pattern:S,alphabet:m,startIndex:_})=>{const{isMatch:I,score:x,indices:M}=gt(e,S,m,{location:r+_,distance:i,threshold:c,findAllMatches:l,minMatchCharLength:a,includeMatches:s,ignoreLocation:d});I&&(g=!0),f+=x,I&&M&&(h=[...h,...M])});let y={isMatch:g,score:g?f/this.chunks.length:1};return g&&s&&(y.indices=h),y}}class B{constructor(e){this.pattern=e}static isMultiMatch(e){return Le(e,this.multiRegex)}static isSingleMatch(e){return Le(e,this.singleRegex)}search(){}}function Le(n,e){const t=n.match(e);return t?t[1]:null}class yt extends B{constructor(e){super(e)}static get type(){return"exact"}static get multiRegex(){return/^="(.*)"$/}static get singleRegex(){return/^=(.*)$/}search(e){const t=e===this.pattern;return{isMatch:t,score:t?0:1,indices:[0,this.pattern.length-1]}}}class Et extends B{constructor(e){super(e)}static get type(){return"inverse-exact"}static get multiRegex(){return/^!"(.*)"$/}static get singleRegex(){return/^!(.*)$/}search(e){const s=e.indexOf(this.pattern)===-1;return{isMatch:s,score:s?0:1,indices:[0,e.length-1]}}}class St extends B{constructor(e){super(e)}static get type(){return"prefix-exact"}static get multiRegex(){return/^\^"(.*)"$/}static get singleRegex(){return/^\^(.*)$/}search(e){const t=e.startsWith(this.pattern);return{isMatch:t,score:t?0:1,indices:[0,this.pattern.length-1]}}}class wt extends B{constructor(e){super(e)}static get type(){return"inverse-prefix-exact"}static get multiRegex(){return/^!\^"(.*)"$/}static get singleRegex(){return/^!\^(.*)$/}search(e){const t=!e.startsWith(this.pattern);return{isMatch:t,score:t?0:1,indices:[0,e.length-1]}}}class It extends B{constructor(e){super(e)}static get type(){return"suffix-exact"}static get multiRegex(){return/^"(.*)"\$$/}static get singleRegex(){return/^(.*)\$$/}search(e){const t=e.endsWith(this.pattern);return{isMatch:t,score:t?0:1,indices:[e.length-this.pattern.length,e.length-1]}}}class Mt extends B{constructor(e){super(e)}static get type(){return"inverse-suffix-exact"}static get multiRegex(){return/^!"(.*)"\$$/}static get singleRegex(){return/^!(.*)\$$/}search(e){const t=!e.endsWith(this.pattern);return{isMatch:t,score:t?0:1,indices:[0,e.length-1]}}}class Re extends B{constructor(e,{location:t=p.location,threshold:s=p.threshold,distance:r=p.distance,includeMatches:i=p.includeMatches,findAllMatches:c=p.findAllMatches,minMatchCharLength:l=p.minMatchCharLength,isCaseSensitive:a=p.isCaseSensitive,ignoreLocation:d=p.ignoreLocation}={}){super(e),this._bitapSearch=new Oe(e,{location:t,threshold:s,distance:r,includeMatches:i,findAllMatches:c,minMatchCharLength:l,isCaseSensitive:a,ignoreLocation:d})}static get type(){return"fuzzy"}static get multiRegex(){return/^"(.*)"$/}static get singleRegex(){return/^(.*)$/}search(e){return this._bitapSearch.searchIn(e)}}class ve extends B{constructor(e){super(e)}static get type(){return"include"}static get multiRegex(){return/^'"(.*)"$/}static get singleRegex(){return/^'(.*)$/}search(e){let t=0,s;const r=[],i=this.pattern.length;for(;(s=e.indexOf(this.pattern,t))>-1;)t=s+i,r.push([s,t-1]);const c=!!r.length;return{isMatch:c,score:c?0:1,indices:r}}}const ae=[yt,ve,St,wt,Mt,It,Et,Re],Te=ae.length,bt=/ +(?=(?:[^\"]*\"[^\"]*\")*[^\"]*$)/,xt="|";function kt(n,e={}){return n.split(xt).map(t=>{let s=t.trim().split(bt).filter(i=>i&&!!i.trim()),r=[];for(let i=0,c=s.length;i<c;i+=1){const l=s[i];let a=!1,d=-1;for(;!a&&++d<Te;){const h=ae[d];let f=h.isMultiMatch(l);f&&(r.push(new h(f,e)),a=!0)}if(!a)for(d=-1;++d<Te;){const h=ae[d];let f=h.isSingleMatch(l);if(f){r.push(new h(f,e));break}}}return r})}const Ct=new Set([Re.type,ve.type]);class At{constructor(e,{isCaseSensitive:t=p.isCaseSensitive,includeMatches:s=p.includeMatches,minMatchCharLength:r=p.minMatchCharLength,ignoreLocation:i=p.ignoreLocation,findAllMatches:c=p.findAllMatches,location:l=p.location,threshold:a=p.threshold,distance:d=p.distance}={}){this.query=null,this.options={isCaseSensitive:t,includeMatches:s,minMatchCharLength:r,findAllMatches:c,ignoreLocation:i,location:l,threshold:a,distance:d},this.pattern=t?e:e.toLowerCase(),this.query=kt(this.pattern,this.options)}static condition(e,t){return t.useExtendedSearch}searchIn(e){const t=this.query;if(!t)return{isMatch:!1,score:1};const{includeMatches:s,isCaseSensitive:r}=this.options;e=r?e:e.toLowerCase();let i=0,c=[],l=0;for(let a=0,d=t.length;a<d;a+=1){const h=t[a];c.length=0,i=0;for(let f=0,g=h.length;f<g;f+=1){const y=h[f],{isMatch:S,indices:m,score:_}=y.search(e);if(S){if(i+=1,l+=_,s){const I=y.constructor.type;Ct.has(I)?c=[...c,...m]:c.push(m)}}else{l=0,i=0,c.length=0;break}}if(i){let f={isMatch:!0,score:l/i};return s&&(f.indices=c),f}}return{isMatch:!1,score:1}}}const le=[];function Ot(...n){le.push(...n)}function ue(n,e){for(let t=0,s=le.length;t<s;t+=1){let r=le[t];if(r.condition(n,e))return new r(n,e)}return new Oe(n,e)}const q={AND:"$and",OR:"$or"},de={PATH:"$path",PATTERN:"$val"},he=n=>!!(n[q.AND]||n[q.OR]),Lt=n=>!!n[de.PATH],Rt=n=>!N(n)&&Me(n)&&!he(n),$e=n=>({[q.AND]:Object.keys(n).map(e=>({[e]:n[e]}))});function Ne(n,e,{auto:t=!0}={}){const s=r=>{let i=Object.keys(r);const c=Lt(r);if(!c&&i.length>1&&!he(r))return s($e(r));if(Rt(r)){const a=c?r[de.PATH]:i[0],d=c?r[de.PATTERN]:r[a];if(!v(d))throw new Error(it(a));const h={keyId:ie(a),pattern:d};return t&&(h.searcher=ue(d,e)),h}let l={children:[],operator:i[0]};return i.forEach(a=>{const d=r[a];N(d)&&d.forEach(h=>{l.children.push(s(h))})}),l};return he(n)||(n=$e(n)),s(n)}function vt(n,{ignoreFieldNorm:e=p.ignoreFieldNorm}){n.forEach(t=>{let s=1;t.matches.forEach(({key:r,norm:i,score:c})=>{const l=r?r.weight:null;s*=Math.pow(c===0&&l?Number.EPSILON:c,(l||1)*(e?1:i))}),t.score=s})}function Tt(n,e){const t=n.matches;e.matches=[],O(t)&&t.forEach(s=>{if(!O(s.indices)||!s.indices.length)return;const{indices:r,value:i}=s;let c={indices:r,value:i};s.key&&(c.key=s.key.src),s.idx>-1&&(c.refIndex=s.idx),e.matches.push(c)})}function $t(n,e){e.score=n.score}function Nt(n,e,{includeMatches:t=p.includeMatches,includeScore:s=p.includeScore}={}){const r=[];return t&&r.push(Tt),s&&r.push($t),n.map(i=>{const{idx:c}=i,l={item:e[c],refIndex:c};return r.length&&r.forEach(a=>{a(i,l)}),l})}class K{constructor(e,t={},s){this.options={...p,...t},this.options.useExtendedSearch,this._keyStore=new ut(this.options.keys),this.setCollection(e,s)}setCollection(e,t){if(this._docs=e,t&&!(t instanceof ce))throw new Error(ot);this._myIndex=t||Ae(this.options.keys,this._docs,{getFn:this.options.getFn,fieldNormWeight:this.options.fieldNormWeight})}add(e){!O(e)||(this._docs.push(e),this._myIndex.add(e))}remove(e=()=>!1){const t=[];for(let s=0,r=this._docs.length;s<r;s+=1){const i=this._docs[s];e(i,s)&&(this.removeAt(s),s-=1,r-=1,t.push(i))}return t}removeAt(e){this._docs.splice(e,1),this._myIndex.removeAt(e)}getIndex(){return this._myIndex}search(e,{limit:t=-1}={}){const{includeMatches:s,includeScore:r,shouldSort:i,sortFn:c,ignoreFieldNorm:l}=this.options;let a=v(e)?v(this._docs[0])?this._searchStringList(e):this._searchObjectList(e):this._searchLogical(e);return vt(a,{ignoreFieldNorm:l}),i&&a.sort(c),Ie(t)&&t>-1&&(a=a.slice(0,t)),Nt(a,this._docs,{includeMatches:s,includeScore:r})}_searchStringList(e){const t=ue(e,this.options),{records:s}=this._myIndex,r=[];return s.forEach(({v:i,i:c,n:l})=>{if(!O(i))return;const{isMatch:a,score:d,indices:h}=t.searchIn(i);a&&r.push({item:i,idx:c,matches:[{score:d,value:i,norm:l,indices:h}]})}),r}_searchLogical(e){const t=Ne(e,this.options),s=(l,a,d)=>{if(!l.children){const{keyId:f,searcher:g}=l,y=this._findMatches({key:this._keyStore.get(f),value:this._myIndex.getValueForItemAtKeyId(a,f),searcher:g});return y&&y.length?[{idx:d,item:a,matches:y}]:[]}const h=[];for(let f=0,g=l.children.length;f<g;f+=1){const y=l.children[f],S=s(y,a,d);if(S.length)h.push(...S);else if(l.operator===q.AND)return[]}return h},r=this._myIndex.records,i={},c=[];return r.forEach(({$:l,i:a})=>{if(O(l)){let d=s(t,l,a);d.length&&(i[a]||(i[a]={idx:a,item:l,matches:[]},c.push(i[a])),d.forEach(({matches:h})=>{i[a].matches.push(...h)}))}}),c}_searchObjectList(e){const t=ue(e,this.options),{keys:s,records:r}=this._myIndex,i=[];return r.forEach(({$:c,i:l})=>{if(!O(c))return;let a=[];s.forEach((d,h)=>{a.push(...this._findMatches({key:d,value:c[h],searcher:t}))}),a.length&&i.push({idx:l,item:c,matches:a})}),i}_findMatches({key:e,value:t,searcher:s}){if(!O(t))return[];let r=[];if(N(t))t.forEach(({v:i,i:c,n:l})=>{if(!O(i))return;const{isMatch:a,score:d,indices:h}=s.searchIn(i);a&&r.push({score:d,key:e,value:i,idx:c,norm:l,indices:h})});else{const{v:i,n:c}=t,{isMatch:l,score:a,indices:d}=s.searchIn(i);l&&r.push({score:a,key:e,value:i,norm:c,indices:d})}return r}}K.version="6.6.2",K.createIndex=Ae,K.parseIndex=mt,K.config=p,K.parseQuery=Ne,Ot(At);const Pe=o.reactive({selectedNode:"",selectedGroup:"",search:"",dataValue:"",filtered:{count:0,items:new Map,groups:new Set}}),U=()=>({isSearching:o.computed(()=>Pe.search!==""),...o.toRefs(Pe)});function Pt(n){return{all:n=n||new Map,on:function(e,t){var s=n.get(e);s?s.push(t):n.set(e,[t])},off:function(e,t){var s=n.get(e);s&&(t?s.splice(s.indexOf(t)>>>0,1):n.set(e,[]))},emit:function(e,t){var s=n.get(e);s&&s.slice().map(function(r){r(t)}),(s=n.get("*"))&&s.slice().map(function(r){r(e,t)})}}}const Bt=Pt(),Z=()=>({emitter:Bt});function Dt(n,e){let t=n.nextElementSibling;for(;t;){if(t.matches(e))return t;t=t.nextElementSibling}}function Ft(n,e){let t=n.previousElementSibling;for(;t;){if(t.matches(e))return t;t=t.previousElementSibling}}const Vt=["command-theme"],Kt={"command-root":""},Gt=o.defineComponent({name:"Command"}),jt=o.defineComponent({...Gt,props:{theme:{type:String,default:"default"}},emits:["select-item"],setup(n,{emit:e}){const t=n,s='[command-item=""]',r="command-item-key",i='[command-group=""]',c="command-group-key",l='[command-group-heading=""]',a=`${s}:not([aria-disabled="true"])`,d=`${s}[aria-selected="true"]`,h="command-item-select",f="data-value",g={threshold:.2,keys:["label"]};o.provide("theme",t.theme||"default");const{selectedNode:y,search:S,dataValue:m,filtered:_}=U(),{emitter:I}=Z(),x=o.ref(),M=ne(o.ref(new Map),333),R=ne(o.ref(new Set),333),G=ne(o.ref(new Map)),C=o.computed(()=>{const u=[];for(const[w,E]of M.value.entries())u.push({key:w,label:E});return u}),A=o.computed(()=>{const u=K.createIndex(g.keys,C.value);return new K(C.value,g,u)}),T=()=>{var w,E,b;const u=L();u&&(((w=u.parentElement)==null?void 0:w.firstElementChild)===u&&((b=(E=u.closest(i))==null?void 0:E.querySelector(l))==null||b.scrollIntoView({block:"nearest"})),u.scrollIntoView({block:"nearest"}))},L=()=>{var u;return(u=x.value)==null?void 0:u.querySelector(d)},P=(u=x.value)=>{const w=u==null?void 0:u.querySelectorAll(a);return w?Array.from(w):[]},W=()=>{var w;const u=(w=x.value)==null?void 0:w.querySelectorAll(i);return u?Array.from(u):[]},$=()=>{const[u]=P();u&&u.getAttribute(r)&&(y.value=u.getAttribute(r)||"")},z=u=>{const E=P()[u];E&&(y.value=E.getAttribute(r)||"")},k=u=>{const w=L(),E=P(),b=E.findIndex(ee=>ee===w),D=E[b+u];D?y.value=D.getAttribute(r)||"":u>0?z(0):z(E.length-1)},j=u=>{const w=L();let E=w==null?void 0:w.closest(i),b=null;for(;E&&!b;)E=u>0?Dt(E,i):Ft(E,i),b=E==null?void 0:E.querySelector(a);b?y.value=b.getAttribute(r)||"":k(u)},Q=()=>z(0),De=()=>z(P().length-1),Fe=u=>{u.preventDefault(),u.metaKey?De():u.altKey?j(1):k(1)},Ve=u=>{u.preventDefault(),u.metaKey?Q():u.altKey?j(-1):k(-1)},wn=u=>{switch(u.key){case"n":case"j":{u.ctrlKey&&Fe(u);break}case"ArrowDown":{Fe(u);break}case"p":case"k":{u.ctrlKey&&Ve(u);break}case"ArrowUp":{Ve(u);break}case"Home":{Q();break}case"End":{De();break}case"Enter":{const w=L();if(w){const E=new Event(h);w.dispatchEvent(E)}}}},In=()=>{if(!S.value){_.value.count=R.value.size;return}_.value.groups=new Set("");const u=new Map,w=A.value.search(S.value).map(E=>E.item);for(const{key:E,label:b}of w)u.set(E,b);for(const[E,b]of G.value)for(const D of b)u.get(D)&&_.value.groups.add(E);o.nextTick(()=>{_.value.count=u.size,_.value.items=u})},Ke=()=>{const u=P(),w=W();for(const E of u){const b=E.getAttribute(r)||"",D=E.getAttribute(f)||"";R.value.add(b),M.value.set(b,D),_.value.count=M.value.size}for(const E of w){const b=P(E),D=E.getAttribute(c)||"",ee=new Set("");for(const bn of b){const xn=bn.getAttribute(r)||"";ee.add(xn)}G.value.set(D,ee)}};o.watch(()=>y.value,u=>{u&&o.nextTick(T)},{deep:!0}),o.watch(()=>S.value,u=>{In(),o.nextTick($)}),I.on("selectItem",u=>{e("select-item",u)});const Mn=ge(u=>{u&&(Ke(),o.nextTick($))},100);return I.on("rerenderList",Mn),o.onMounted(()=>{Ke(),$()}),(u,w)=>(o.openBlock(),o.createElementBlock("div",{class:o.normalizeClass(n.theme),onKeydown:wn,ref_key:"commandRef",ref:x,"command-theme":n.theme},[o.createElementVNode("div",Kt,[o.renderSlot(u.$slots,"default")])],42,Vt))}}),H=(n,e)=>{const t=n.__vccOpts||n;for(const[s,r]of e)t[s]=r;return t},fe=H(jt,[["__file","/Users/xiaoyunwei/Documents/GitHub/private/vue-command-palette/packages/Command.vue"]]),Ut={"command-dialog":""},Ht={"command-dialog-mask":""},Wt={"command-dialog-wrapper":""},zt={"command-dialog-header":""},Qt={"command-dialog-body":""},Yt={key:0,"command-dialog-footer":""},Jt=o.defineComponent({name:"Command.Dialog"}),Xt=o.defineComponent({...Jt,props:{visible:{type:Boolean,required:!0},theme:{type:String,required:!0}},emits:["select-item"],setup(n,{emit:e}){const t=n,{search:s,filtered:r}=U(),{emitter:i}=Z(),c=o.ref();i.on("selectItem",a=>{e("select-item",a)});const l=()=>{s.value="",r.value.count=0,r.value.items=new Map,r.value.groups=new Set};return _e(()=>t.visible,l),o.onBeforeUnmount(l),(a,d)=>(o.openBlock(),o.createBlock(o.Teleport,{to:"body",ref_key:"dialogRef",ref:c},[o.createVNode(o.Transition,{name:"command-dialog",appear:""},{default:o.withCtx(()=>[n.visible?(o.openBlock(),o.createBlock(fe,{key:0,theme:n.theme},{default:o.withCtx(()=>[o.createElementVNode("div",Ut,[o.createElementVNode("div",Ht,[o.createElementVNode("div",Wt,[o.createElementVNode("div",zt,[o.renderSlot(a.$slots,"header")]),o.createElementVNode("div",Qt,[o.renderSlot(a.$slots,"body")]),a.$slots.footer?(o.openBlock(),o.createElementBlock("div",Yt,[o.renderSlot(a.$slots,"footer")])):o.createCommentVNode("v-if",!0)])])])]),_:3},8,["theme"])):o.createCommentVNode("v-if",!0)]),_:3})],512))}}),qt=H(Xt,[["__file","/Users/xiaoyunwei/Documents/GitHub/private/vue-command-palette/packages/CommandDialog.vue"]]);let Be=(n=21)=>crypto.getRandomValues(new Uint8Array(n)).reduce((e,t)=>(t&=63,t<36?e+=t.toString(36):t<62?e+=(t-26).toString(36).toUpperCase():t>62?e+="-":e+="_",e),"");const Zt=["command-group-key","data-value"],en={key:0,"command-group-heading":""},tn={"command-group-items":"",role:"group"},nn=o.defineComponent({name:"Command.Group"}),sn=o.defineComponent({...nn,props:{heading:{type:String,required:!0}},setup(n){const e=o.computed(()=>`command-group-${Be()}`),{filtered:t,isSearching:s}=U(),r=o.computed(()=>s.value?t.value.groups.has(e.value):!0);return(i,c)=>o.withDirectives((o.openBlock(),o.createElementBlock("div",{"command-group":"",role:"presentation",key:o.unref(e),"command-group-key":o.unref(e),"data-value":n.heading},[n.heading?(o.openBlock(),o.createElementBlock("div",en,o.toDisplayString(n.heading),1)):o.createCommentVNode("v-if",!0),o.createElementVNode("div",tn,[o.renderSlot(i.$slots,"default")])],8,Zt)),[[o.vShow,o.unref(r)]])}}),rn=H(sn,[["__file","/Users/xiaoyunwei/Documents/GitHub/private/vue-command-palette/packages/CommandGroup.vue"]]),on=["placeholder","value"],cn=o.defineComponent({name:"Command.Input"}),an=o.defineComponent({...cn,props:{placeholder:{type:String,required:!0},value:{type:String,required:!1}},emits:["input","update:value"],setup(n,{emit:e}){const t=o.ref(null),{search:s}=U(),r=o.computed(()=>s.value),i=c=>{const l=c,a=c.target;s.value=a==null?void 0:a.value,e("input",l),e("update:value",s.value)};return o.watchEffect(()=>{var c;(c=t.value)==null||c.focus()}),(c,l)=>(o.openBlock(),o.createElementBlock("input",{ref_key:"inputRef",ref:t,"command-input":"","auto-focus":"","auto-complete":"off","auto-correct":"off","spell-check":!1,"aria-autocomplete":"list",role:"combobox","aria-expanded":!0,placeholder:n.placeholder,value:o.unref(r),onInput:i},null,40,on))}}),ln=H(an,[["__file","/Users/xiaoyunwei/Documents/GitHub/private/vue-command-palette/packages/CommandInput.vue"]]),un=["aria-selected","aria-disabled","command-item-key"],dn=o.defineComponent({name:"Command.Item"}),hn=o.defineComponent({...dn,props:{shortcut:{type:Array,required:!1},perform:{type:null,required:!1}},emits:["select"],setup(n,{emit:e}){const t=n,s="command-item-select",r="data-value",{current:i}=Ye(),{selectedNode:c,filtered:l,isSearching:a}=U(),{emitter:d}=Z(),h=o.ref(),f=o.computed(()=>`command-item-${Be()}`),g=o.computed(()=>{const m=l.value.items.get(f.value);return a.value?m!==void 0:!0}),y=o.computed(()=>Array.from(i)),S=()=>{var _;const m={key:f.value,value:((_=h.value)==null?void 0:_.getAttribute(r))||""};e("select",m),d.emit("selectItem",m)};return _e(y,m=>{t.shortcut&&t.shortcut.length>0&&t.shortcut.every(I=>i.has(I.toLowerCase()))&&t.perform&&t.perform()}),o.watchEffect(()=>{var m;(m=h.value)==null||m.addEventListener(s,S)}),o.onBeforeUnmount(()=>{var m;(m=h.value)==null||m.removeEventListener(s,S)}),(m,_)=>o.withDirectives((o.openBlock(),o.createElementBlock("div",{ref_key:"itemRef",ref:h,"command-item":"",role:"option","aria-selected":o.unref(c)===o.unref(f),"aria-disabled":!o.unref(g),key:o.unref(f),"command-item-key":o.unref(f),onClick:S},[o.renderSlot(m.$slots,"default")],8,un)),[[o.vShow,o.unref(g)]])}}),fn=H(hn,[["__file","/Users/xiaoyunwei/Documents/GitHub/private/vue-command-palette/packages/CommandItem.vue"]]),mn=o.defineComponent({name:"Command.List"}),pn=o.defineComponent({...mn,setup(n){const{emitter:e}=Z(),t=o.ref(),s=o.ref();let r=null,i;return o.watchEffect(()=>{i=s.value;const c=t.value;i&&c&&(r=new ResizeObserver(l=>{o.nextTick(()=>{const a=i==null?void 0:i.offsetHeight;c==null||c.style.setProperty("--command-list-height",`${a==null?void 0:a.toFixed(1)}px`),e.emit("rerenderList",!0)})}),r.observe(i))}),o.onBeforeUnmount(()=>{r!==null&&i&&r.unobserve(i)}),(c,l)=>(o.openBlock(),o.createElementBlock("div",{"command-list":"",role:"listbox","aria-label":"Suggestions",ref_key:"listRef",ref:t},[o.createElementVNode("div",{"command-list-sizer":"",ref_key:"heightRef",ref:s},[o.renderSlot(c.$slots,"default")],512)],512))}}),gn=H(pn,[["__file","/Users/xiaoyunwei/Documents/GitHub/private/vue-command-palette/packages/CommandList.vue"]]),_n=o.defineComponent({name:"Command.Empty",setup(n,{attrs:e,slots:t}){const{filtered:s}=U(),r=o.computed(()=>s.value.count===0);return()=>r.value?o.h("div",{"command-empty":"",role:"presentation",...e},t):o.h("div",{"command-empty":"hidden",role:"presentation",style:{display:"none"},...e})}}),yn=o.defineComponent({name:"Command.Loading",setup(n,{attrs:e,slots:t}){return()=>o.h("div",{"command-loading":"",role:"progressbar",...e},t)}}),En=o.defineComponent({name:"Command.Separator",setup(n,{attrs:e,slots:t}){return()=>o.h("div",{"command-separator":"",role:"separator",...e})}}),Sn=Object.assign(fe,{Dialog:qt,Empty:_n,Group:rn,Input:ln,Item:fn,List:gn,Loading:yn,Separator:En,Root:fe});F.Command=Sn,Object.defineProperties(F,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})});
